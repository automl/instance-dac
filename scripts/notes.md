```bash
#####################################################
# SIGMOID
#####################################################
# 0. Evaluate random baseline on 2D3M
python instance_dac/train.py +benchmark=sigmoid +inst/sigmoid=2D3M_train evaluate=True eval_on_train_set=True agent=random 'seed=range(1,11)' -m
python instance_dac/train.py +benchmark=sigmoid +inst/sigmoid=2D3M_train evaluate=True agent=random 'seed=range(1,11)' -m

# 1. Train on 2D3M_train for 10 seeds
python instance_dac/train.py +benchmark=sigmoid +inst/sigmoid=2D3M_train 'seed=range(1,11)' -m

# Evaluate on train set
# python instance_dac/train.py +benchmark=sigmoid +inst/sigmoid=2D3M_train evaluate=True benchmark.config.test_set_path=../instance_sets/sigmoid/sigmoid_2D3M_train.csv 'seed=range(1,11)' -m
python instance_dac/train.py +benchmark=sigmoid +inst/sigmoid=2D3M_train evaluate=True eval_on_train_set=True 'seed=range(1,11)' -m

# Evaluate on test set 1
python instance_dac/train.py +benchmark=sigmoid +inst/sigmoid=2D3M_train evaluate=True benchmark.config.test_set_path=../instance_sets/sigmoid/sigmoid_2D3M_test.csv 'seed=range(1,11)' -m

# Train oracle
# Pass the same commands to main.py. No extra option normally runs the command.
# Adding --oracle trains the oracle agents for each single instance.
# Running with --dry only shows the run command.
# ☝ Hint 1: The script will show you the number of instances in the instance setb. Normally 
#            allowed slurm job array size is limited to 1000. Set the number of seeds accordingly.
# ☝ Hint 2: Do not run anything with `main.py`. Instead always use `train.py` with the overrides generated by
#            `main.py`. Problem is that threads cannot be created properly.
python instance_dac/main.py +benchmark=sigmoid +inst/sigmoid=2D3M_train 'seed=range(1,11)' -m --oracle --dry
# e.g.
python instance_dac/train.py +benchmark=sigmoid 'seed=range(1,4)' '+inst/sigmoid/oracle_2D3M_test=glob(*)' 'instance_set_selection=oracle' +cluster=noctua hydra.launcher.timeout_min=120 evaluate=True -m
python instance_dac/train.py +benchmark=sigmoid 'seed=range(4,7)' '+inst/sigmoid/oracle_2D3M_test=glob(*)' 'instance_set_selection=oracle' +cluster=noctua hydra.launcher.timeout_min=120 -m
python instance_dac/train.py +benchmark=sigmoid 'seed=range(7,10)' '+inst/sigmoid/oracle_2D3M_test=glob(*)' 'instance_set_selection=oracle' +cluster=noctua hydra.launcher.timeout_min=120 -m
python instance_dac/train.py +benchmark=sigmoid 'seed=range(10,11)' '+inst/sigmoid/oracle_2D3M_test=glob(*)' 'instance_set_selection=oracle' +cluster=noctua hydra.launcher.timeout_min=120 -m

# Final Evaluation
# (a) on oracle train instance
evaluate=True eval_on_train_set=True
# (b) on full set
evaluate=True benchmark.config.test_set_path=../instance_sets/sigmoid/sigmoid_2D3M_train.csv
# (c) on full test set
evaluate=True

# Train on selected instances

# 1. Sync selector csvs (on local)
rsync -azv --delete -e 'ssh -J intexml2@fe.noctua2.pc2.uni-paderborn.de' data/selected_by_selector intexml2@n2login5:/scratch/hpc-prf-intexml/cbenjamins/repos/instance-dac/data 
# 2. Parse selector csvs (on remote)
python instance_dac/utils/parse_selector_sets.py
# (Allocate job)
salloc -t 24:00:00 -c 64
# 3. Train
python instance_dac/train.py +benchmark=sigmoid '+inst/sigmoid/selector/source_2D3M_train=glob(*)' 'seed=range(1,11)' +cluster=local instance_set_selection=selector -m
# 4. Evaluate on source set
python instance_dac/train.py +benchmark=sigmoid '+inst/sigmoid/selector/source_2D3M_train=glob(*)' 'seed=range(1,11)' +cluster=local instance_set_selection=selector evaluate=True benchmark.config.test_set_path=../instance_sets/sigmoid/sigmoid_2D3M_train.csv -m

'+inst/sigmoid/selector/source_2D3M_train=2D3M_train__Train__DS__Catch22__RA__0.7__1'
python instance_dac/train.py +benchmark=sigmoid 'seed=range(1,11)' '+inst/sigmoid/random=glob(*)' 'instance_set_selection=random' +cluster=noctua hydra.launcher.timeout_min=120 -m



# train on random subsets


# Eval on original train set


#####################################################
# CMA-ES
#####################################################
# 0. Evaluate random baseline
python instance_dac/train.py +benchmark=cmaes +inst/cmaes=default evaluate=True agent=random 'seed=range(1,11)' -m


# SB3 PPO
# Train
python instance_dac/train.py +benchmark=cmaes +inst/cmaes=default 'seed=range(1,11)' +cluster=noctua agent=ppo_sb3 -m
# Eval on test
python instance_dac/train.py +benchmark=cmaes +inst/cmaes=default 'seed=range(1,11)' +cluster=noctua agent=ppo_sb3 evaluate=True -m
# Eval on train
python instance_dac/train.py +benchmark=cmaes +inst/cmaes=default 'seed=range(1,11)' +cluster=noctua agent=ppo_sb3 evaluate=True eval_on_train_set=True -m
# Train oracle
python instance_dac/main.py +benchmark=cmaes +inst/cmaes=default 'seed=range(1,11)' agent=ppo_sb3 -m --oracle --dry
# --->
# DONT FORGET TO ADD THE AGENT
python instance_dac/train.py +benchmark=cmaes 'seed=range(1,11)' '+inst/cmaes/oracle_default=glob(*)' 'instance_set_selection=oracle' +cluster=noctua agent=ppo_sb3 -m

# Eval random agent
python instance_dac/train.py +benchmark=cmaes +inst/cmaes=default evaluate=True agent=random 'seed=range(1,11)' -m





# train on random subsets
python instance_dac/train.py +benchmark=cmaes 'seed=range(1,11)' '+inst/cmaes/random=glob(*)' 'instance_set_selection=random' +cluster=noctua agent=ppo_sb3 -m

```